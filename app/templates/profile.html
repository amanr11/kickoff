{% extends 'base.html' %}

{% block title %}Profile{% endblock %}

{% block content %}
<div class="profile-container">
    <h1 class="text-center mb-4">Your Profile</h1>
    
    <!-- Profile Picture Section -->
    <div class="profile-picture-container text-center mb-4">
        <img 
            src="{{ url_for('static', filename='images/default_profile.png') }}" 
            alt="Profile Picture" 
            id="profilePicPreview" 
            class="rounded-circle img-thumbnail"
            style="width: 150px; height: 150px; object-fit: cover;"
        >
        <form id="uploadForm" class="mt-3" enctype="multipart/form-data" method="POST" action="{{ url_for('main.upload_picture') }}">
            <input type="file" id="profilePicInput" name="profile_picture" class="form-control-file">
            <button type="submit" class="btn btn-success mt-2">Upload Picture</button>
        </form>
    </div>
    
    <!-- Profile Details Section -->
    <div class="profile-details-container">
        <h2>Edit Your Profile</h2>
        <form id="editProfileForm" method="POST" action="{{ url_for('main.edit_profile') }}">
            <div class="mb-3">
                <label for="username" class="form-label">Username</label>
                <input 
                    type="text" 
                    class="form-control" 
                    id="username" 
                    name="username" 
                    value="{{ current_user.username }}" 
                    required>
            </div>
            <div class="mb-3">
                <label for="email" class="form-label">Email</label>
                <input 
                    type="email" 
                    class="form-control" 
                    id="email" 
                    name="email" 
                    value="{{ current_user.email }}" 
                    required>
            </div>
            <div class="mb-3">
                <label for="password" class="form-label">Password</label>
                <input 
                    type="password" 
                    class="form-control" 
                    id="password" 
                    name="password" 
                    placeholder="Enter a new password">
            </div>
            <button type="submit" class="btn btn-success">Update Profile</button>
        </form>
    </div>

    <!-- Recent Activities Section -->
    <div class="recent-activities mt-5">
        <h3>Recent Activities</h3>
        <ul class="list-group">
            <li class="list-group-item">Attended: Game at Hyde Park</li>
            <li class="list-group-item">Hosted: Game at Roundhay Park</li>
        </ul>
    </div>
</div>
<script src="{{ url_for('static', filename='js/profile.js') }}"></script>
{% endblock %}
